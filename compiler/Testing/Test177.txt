/* Quicksort <n>: sorts an array of n integers initialized
   with random values.
   Output: the array contents before and after sorting.
*/

//class Library{
//    void println(string s) {}
//    void print(string s) {}
//    void printi(int i) {}
//    int stoi(string s, int i) {}
//   int random(int n) {}
//    void exit(int n) {}
//}

class Quicksort {
    int[] a;

    int partition(int low, int high) {
    int pivot = a[low];
    int i = low;
    int j = high;
    int tmp;

    while (true) {
        while (a[i] < pivot) i = i+1;
        while (a[j] > pivot) j = j-1;

        if (i >= j) break;

        tmp = a[i];
        a[i] = a[j];
        a[j] = tmp;
        i = i+1;
        j = j-1;
    }

    return j;
    }

    void quicksort(int low, int high) {
    if (low < high) {
        int mid = partition(low, high);
        quicksort(low, mid);
        quicksort(mid+1, high);
    }
    }

    void initArray() {
    a[0] = 77;
    a[1] = 99;
    a[2] = 44;
    a[3] = 55;
    a[4] = 22;
    a[5] = 88;
    a[6] = 11;
    a[7] = 0;
    a[8] = 66;
    a[9] = 33;
    }

    void printArray() {
    int i = 0;

    Library.print("Array elements: ");
    while(i<a.length) {
        Library.printi(a[i]);
        Library.print (" ");
        i = i+1;
    }
    Library.println("");
    }

    static void main(string[] args) {
    int n;

    n = 10;
    Quicksort s = new Quicksort();
    s.a = new int[n];

    s.initArray();
    s.printArray();
    s.quicksort(0, n-1);
    s.printArray();
    }
}
